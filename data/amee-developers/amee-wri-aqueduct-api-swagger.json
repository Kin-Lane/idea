{
    "apiVersion": "2",
    "swaggerVersion": "1.1",
    "basePath": "/api",
    "resourcePath": "https://www.amee.com/wri_aqueduct",
    "apis": [
        {
            "path": "/wri_aqueduct",
            "description": "TBD - John Cant",
            "operations": [
                {
                    "httpMethod": "GET",
                    "summary": "Get WRI Aqueduct values and risk levels for a point on the earth",
                    "notes": "The WRI Aqueduct raw data - http://www.wri.org/publication/aqueduct-global-maps-20",
                    "responseClass": "WriAqueduct",
                    "nickname": "getWriAqueduct",
                    "parameters": [
                        {
                            "name": "limit",
                            "description": "Number of results per page, max 50, default 20",
                            "paramType": "query",
                            "required": false,
                            "allowMultiple": false,
                            "dataType": "integer"
                        },
                        {
                            "name": "page",
                            "description": "Page number of results, max 100, default 1",
                            "paramType": "query",
                            "required": false,
                            "allowMultiple": false,
                            "dataType": "integer"
                        },
                        {
                            "name": "lat",
                            "description": "Latitude, in degrees (WGS84)",
                            "paramType": "query",
                            "required": true,
                            "allowMultiple": false,
                            "dataType": "float"
                        },
                        {
                            "name": "lon",
                            "description": "Longitude, in degrees (WGS84)",
                            "paramType": "query",
                            "required": true,
                            "allowMultiple": false,
                            "dataType": "float"
                        }
                    ],
                    "errorResponses": [
                    ]
                }
            ]
        }
    ],
    "models": {
        "WriAqueductValue": {
            "id": "WriAqueductValue",
            "properties": {
                "code": {
                    "type": "string",
                    "required":true,
                    "description": "Code describing Aqueduct indicator meaning",
                    "allowableValues": {
                        "valueType": "LIST",
                        "values": [
                            "BWS",
                            "WSV",
                            "SV",
                            "HFO",
                            "DRO",
                            "STOR",
                            "GW",
                            "WRI",
                            "ECO_S",
                            "MC",
                            "WCG",
                            "ECO_V"
                        ]
                    }
                },
                "raw":{
                    "type": "float",
                    "required":true,
                    "description": "Raw indicator value"
                },
                "score":{
                    "type": "float",
                    "required":true,
                    "description": "Indicator score 1-5"
                },
                "legend":{
                    "type": "string",
                    "required":true,
                    "description": "Human readable meaning of these values"
                }
            }
        },
        "WriAqueduct": {
            "id": "WriAqueduct",
            "properties": {
                "id": { "type":"integer", "required": true },
                "country_name": {
                    "type": "string",
                    "required": true,
                    "description": "Country name"
                },
                "iso2": {
                    "type": "string",
                    "required":true
                },
                "iso3": {
                    "type": "string",
                    "required" :true
                },
                "shape_area": {
                    "type": "float",
                    "required": true,
                    "description": "Area in square metres"
                },
                "shape_length": {
                    "type": "float",
                    "required": true,
                    "description": "Maximum length in metres"
                },
                "catchment": {
                    "type": "string",
                    "description": "Basin name (if applicable)"
                },
                "blue_water_available": {
                    "type": "float",
                    "required": true,
                    "description": "Blue water available in cubic metres"
                },
                "blue_water_total": {
                    "type": "float",
                    "required": true,
                    "description": "Total blue water in cubic metres"
                },
                "values": {
                    "type": "array",
                    "required" :true,
                    "items": {
                        "$ref": "WriAqueductValue"
                    }
                }
            }
        }
    }

}
